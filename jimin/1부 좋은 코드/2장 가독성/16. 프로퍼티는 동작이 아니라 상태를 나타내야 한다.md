# μ•„μ΄ν… 16
> ν”„λ΅νΌν‹°λ” λ™μ‘μ΄ μ•„λ‹λΌ μƒνƒλ¥Ό λ‚νƒ€λ‚΄μ•Ό ν•λ‹¤

## β… ν”„λ΅νΌν‹°

### π”— μ‚¬μ©μ μ •μ κ²ν„°, μ„Έν„°
μ½”ν‹€λ¦°μ ν”„λ΅νΌν‹°, μλ°”μ ν•„λ“λ” λ‘ λ‹¤ λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ‹¤λ” μ μ—μ„ κ°™μ§€λ§ ν”„λ΅νΌν‹°λ” λ” λ§μ€ κΈ°λ¥μ΄ μλ‹¤. κΈ°λ³Έμ μΌλ΅ ν”„λ΅νΌν‹°λ” μ‚¬μ©μ μ •μ μ„Έν„°μ™€ κ²ν„°λ¥Ό κ°€μ§ μ μλ‹¤.

```kotlin
var name: String? = null
    get() = field?.toUpperCase() //λ°°ν‚Ή λ νΌλ°μ¤!
    set(value) {
        if (!value.isNullOrBlack()) {
            field = value
        }
    }
```
* field: λ°μ΄ν„°λ¥Ό μ €μ¥ν•΄λ‘λ” λ°°ν‚Ή ν•„λ“μ— λ€ν• λ νΌλ°μ¤, λ”°λ΅ μƒμ„±ν•μ§€ μ•μ•„λ„ λ””ν΄νΈλ΅ μƒμ„±. valμ—μ„λ” μƒμ„±λμ§€ μ•μ
* varμ„ μ‚¬μ©ν•΄ λ§λ“  ν”„λ΅νΌν‹°: νμƒ ν”„λ΅νΌν‹°, κ²ν„°/μ„Έν„° μ •μ κ°€λ¥

### π”— μΊ΅μν™”
```kotlin
var date: Date
    get() = Date(millis)
    set(value) {
        millis = value.time
    }
```
λ§μ•½ Dateλ¥Ό ν™μ©ν• κ°μ²΄κ°€ λ” μ΄μƒ μ‚¬μ©ν•  μ μ—†λ”λ° ν•΄λ‹Ή ν”„λ΅νΌν‹°λ¥Ό λ§μ΄ μ°Έμ΅°ν•κ³  μλ‹¤λ©΄, `millis`λΌλ” λ³„λ„μ ν”„λ΅νΌν‹°μ— μ®κ²¨ date ν”„λ΅νΌν‹°μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•μ§€ μ•κ³  λ©/μ–Έλ©ν•  μ μλ‹¤.


### π”— ν”„λ΅νΌν‹°μ™€ ν•¨μ
ν”„λ΅νΌν‹°λ” getμ„ μ¬μ •μν•΄μ„ ν•¨μμ²λΌ λ‚νƒ€λ‚Ό μ μλ‹¤.

```kotlin
val Tree<Int>.sum: Int
    get() = when (this) {
        is Leaf -> value
        is Node -> left.sum + right.sum
    }
```
μ„λ” ν”„λ΅νΌν‹°λ΅ μ•κ³ λ¦¬μ¦μ„ λ‚νƒ€λ‚Έ μμ‹μΈλ°, ν° μ»¬λ ‰μ…μ κ²½μ° λ§μ€ κ³„μ‚°λ‰μ΄ ν•„μ”ν•  μ μλ‹¤. ν•μ§€λ§ κ΄€μµμ μΌλ΅ μ΄λ° κ²ν„°μ— κ·Έλ¬ν• κ³„μ‚°λ‰μ΄ ν•„μ”ν•λ‹¤κ³ λ” μμƒν•μ§€ μ•λ”λ‹¤. λ”°λΌμ„ μ΄λ° μ²λ¦¬λ” **ν•¨μλ΅ κµ¬ν„**ν•΄μ•Ό ν•λ‹¤.

**ν”„λ΅νΌν‹° λ€μ‹  ν•¨μλ¥Ό μ‚¬μ©ν•λ” κ²½μ°**
* μ—°μ‚° λΉ„μ©μ΄ λ†’κ±°λ‚, λ³µμ΅λ„κ°€ O(1)λ³΄λ‹¤ ν° κ²½μ°
* λΉ„μ¦λ‹μ¤ λ΅μ§μ„ ν¬ν•¨ν•λ” κ²½μ°
    * λ΅κΉ…, λ¦¬μ¤λ„ ν†µμ§€, λ°”μΈλ“λ μ”μ† λ³€κ²½κ³Ό κ°™μ€ λ‹¨μ λ™μ‘ μ΄μƒμ„ ν• κ²ƒμ΄λΌκ³  κΈ°λ€ν•μ§€ μ•λ”λ‹¤.
* κ²°μ •μ μ΄μ§€ μ•μ€ κ²½μ° (λ©±λ“±x)
    * κ°™μ€ λ™μ‘μ„ μ—°μ†μ μΌλ΅ λ‘ λ² ν–λ”λ° λ‹¤λ¥Έ κ°’μ΄ λ‚μ¬ μ μλ” κ²½μ°λ” ν•¨μ μ‚¬μ©
* λ³€ν™μ κ²½μ°
    * Int.ToDouble()κ³Ό κ°™μ΄ λ³€ν™ν•¨μλ΅ λ‚νƒ€λ‚΄λ” κ²ƒμ΄ κ΄€μµμ μ΄λ‹¤.
* κ²ν„°μ—μ„ μƒνƒ λ³€κ²½μ΄ μΌμ–΄λ‚λ” κ²½μ°
    * getν•λ”λ° μ™ μƒνƒλ³€κ²½μ„ ?!?! -> ν•¨μλ΅ λ‚νƒ€λ‚΄μ


**ν”„λ΅νΌν‹°λ΅ λ‚νƒ€λ‚΄λ” κ²½μ°**
* μƒνƒλ¥Ό μ¶”μ¶/μ„¤μ •
    * νΉλ³„ν• μ΄μ κ°€ μ—†λ‹¤λ©΄ ν•¨μλ¥Ό μ‚¬μ©ν•λ©΄ μ•λλ‹¤.

```kotlin
//Bad
class UserIncorrect {
	private var name: String = ""
    
    fun getName() = name
    
    fun setName(name: String) {
    	this.name = name
    }
}

//Good
class UserCorrect {
	var name: String = ""
}
```
